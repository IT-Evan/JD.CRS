$(function(){function s(){if(t.valid()){var r=t.serializeFormToObject();abp.ui.setBusy(t);i.create(r).done(function(){n.modal("hide");location.reload(!0)}).always(function(){abp.ui.clearBusy(n)})}}function r(){location.reload(!0)}function h(n,t){abp.message.confirm(abp.utils.formatString(abp.localization.localize("AreYouSureWantToDelete","CRS"),t),function(t){t&&i.delete({id:n}).done(function(){r()})})}var i=abp.services.app.course,n=$("#CourseCreateModal"),t=n.find("form[name=CourseCreateForm]"),u=$("#Status"),f=$("#Keyword"),e=$("#Search"),o=$("#dataTable");$(document).ready(function(){o.DataTable({pagingType:"full_numbers",scrollY:500,dom:"Blfrtip",buttons:["copy","csv","excel","pdf","print"],language:{emptyTable:"No data available in table",info:"Showing _START_ to _END_ of _TOTAL_ entries",infoEmpty:"Showing 0 to 0 of 0 entries",infoFiltered:"(filtered from _MAX_ total entries)",infoPostFix:"",thousands:",",lengthMenu:"PageSize _MENU_",loadingRecords:"Loading...",processing:"Processing...",search:"Search:",zeroRecords:"No matching records found",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous"},aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"}}})});e.click(function(){location.href="/Course?status="+u.val()+"&keyword="+f.val()});$("#RefreshButton").click(function(){r()});$(".delete-course").click(function(){var n=$(this).attr("data-course-id"),t=$(this).attr("data-course-name");h(n,t)});$(".edit-course").click(function(n){var t=$(this).attr("data-course-id");n.preventDefault();$.ajax({url:abp.appPath+"Course/EditCourseModal?courseId="+t,type:"POST",contentType:"application/html",success:function(n){$("#CourseEditModal div.modal-content").html(n)},error:function(){}})});t.find('button[type="submit"]').click(function(n){n.preventDefault();s()});n.on("shown.bs.modal",function(){n.find("input:not([type=hidden]):first").focus()})});